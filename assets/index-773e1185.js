import{b as P,c as I,s as M,B as L,d as V,e as j,_ as x,r as i,f as T,h as A,j as o,i as _,k as O,l as E,N,m as B,n as f,p as W,a as q,u as D,o as H,q as S,v as U,w as X,x as Q}from"./index-8272c96d.js";import{r as w,i as F}from"./createSvgIcon-58188a5d.js";import{P as G}from"./Paper-5b96336f.js";import{Q as z,k as J}from"./ReactToastify-dc1fe31d.js";import{F as K}from"./message-3cd5b343.js";function Y(e){return I("MuiFab",e)}const Z=P("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),R=Z,ee=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],se=e=>{const{color:s,variant:t,classes:r,size:d}=e,n={root:["root",t,`size${j(d)}`,s==="inherit"?"colorInherit":s]},l=O(n,Y,r);return x({},r,l)},oe=M(L,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>V(e)||e==="classes",overridesResolver:(e,s)=>{const{ownerState:t}=e;return[s.root,s[t.variant],s[`size${j(t.size)}`],t.color==="inherit"&&s.colorInherit,s[j(t.size)],s[t.color]]}})(({theme:e,ownerState:s})=>{var t,r;return x({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:(t=(r=e.palette).getContrastText)==null?void 0:t.call(r,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${R.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},s.size==="small"&&{width:40,height:40},s.size==="medium"&&{width:48,height:48},s.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},s.variant==="extended"&&s.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},s.variant==="extended"&&s.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},s.color==="inherit"&&{color:"inherit"})},({theme:e,ownerState:s})=>x({},s.color!=="inherit"&&s.color!=="default"&&(e.vars||e).palette[s.color]!=null&&{color:(e.vars||e).palette[s.color].contrastText,backgroundColor:(e.vars||e).palette[s.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[s.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[s.color].main}}}),({theme:e})=>({[`&.${R.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}})),te=i.forwardRef(function(s,t){const r=T({props:s,name:"MuiFab"}),{children:d,className:n,color:l="default",component:a="button",disabled:u=!1,disableFocusRipple:c=!1,focusVisibleClassName:p,size:h="large",variant:b="circular"}=r,g=A(r,ee),v=x({},r,{color:l,component:a,disabled:u,disableFocusRipple:c,size:h,variant:b}),m=se(v);return o.jsx(oe,x({className:_(m.root,n),component:a,disabled:u,focusRipple:!c,focusVisibleClassName:_(m.focusVisible,p),ownerState:v,ref:t},g,{classes:m,children:d}))}),re=te;var y={},ae=F;Object.defineProperty(y,"__esModule",{value:!0});var $=y.default=void 0,ie=ae(w()),ne=o,le=(0,ie.default)((0,ne.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");$=y.default=le;function ce(){const e=E(),s=()=>{i.startTransition(()=>{e(`${N}/create`)})};return o.jsx(o.Fragment,{children:o.jsx(re,{size:"small",color:"primary","aria-label":"add",sx:{position:"fixed",right:"1rem",bottom:"4rem"},onClick:s,children:o.jsx($,{})})})}var C={},de=F;Object.defineProperty(C,"__esModule",{value:!0});var k=C.default=void 0,ue=de(w()),fe=o,pe=(0,ue.default)((0,fe.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");k=C.default=pe;const ve=i.memo(function({note:s,onDeleteNote:t}){const{title:r,content:d,created_at:n}=s,l=i.useRef(),a=i.useRef(),u=i.useRef(null);return i.useEffect(()=>{const c=l.current,p=a.current,h=new IntersectionObserver(b=>{b.forEach(async g=>{const v=g.intersectionRatio;p.style.opacity=`${v<.5?.5:v}`,v>.9&&(await B(180),t==null||t(s))})},{root:c,threshold:[0,.2,.4,.6,.8,.9]});return h.observe(p),()=>{h.unobserve(p)}},[s,t]),o.jsx("div",{onPointerDown:c=>{u.current=c.clientX},onPointerMove:c=>{if(u.current===null)return;const p=u.current-c.clientX;u.current=c.clientX,l.current.scrollBy({left:p})},onPointerUp:()=>{u.current=null,l.current.scrollTo({left:0,behavior:"smooth"})},children:o.jsxs(f,{ref:l,sx:{display:"flex",alignItems:"center",gap:"0.5rem",overflowX:"hidden",padding:"0.5rem",touchAction:"pan-y"},children:[o.jsxs(G,{sx:{padding:"0.5rem",flex:"0 0 100%"},children:[o.jsxs(f,{sx:{display:"flex",fontSize:"0.8rem"},children:[o.jsx(f,{sx:{flex:"1 1 0",color:W[400]},children:r}),o.jsx(f,{sx:{fontWeight:300},children:n.toLocaleString()})]}),o.jsx(f,{sx:{overflowWrap:"anywhere"},children:d})]}),o.jsx(f,{sx:{transition:"opacity .15s ease"},ref:a,children:o.jsx(k,{fontSize:"large"})})]})})}),xe=ve;function ye(){const[e,s]=i.useState([]),r=q().palette.mode,d=D(),n=i.useCallback(async()=>{const a=(await H()).reverse();s(a)},[]),l=i.useCallback(async a=>{await S(a),await n()},[n]);return i.useEffect(()=>{U()==="0"&&(z.info(d.formatMessage({defaultMessage:"Oops! No notes yet. Click the Add button to create your first note.",id:"first_note_tip"}),{position:z.POSITION.TOP_CENTER}),X()),n()},[n,d]),o.jsxs(o.Fragment,{children:[o.jsx(f,{sx:{fontSize:"1.5rem"},children:o.jsx(K,{defaultMessage:"All notes",id:"all_notes"})}),o.jsx(f,{sx:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:e.map(a=>o.jsx(Q,{to:`${N}/${a.id}`,style:{textDecoration:"none"},children:o.jsx(xe,{onDeleteNote:l,note:a})},a.created_at.getTime()))}),o.jsx(ce,{}),o.jsx(J,{theme:r})]})}export{ye as default};
