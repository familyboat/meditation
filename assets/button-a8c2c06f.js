import{x as l,y as f,z as h,A as g,C as m,D as v,s as k,B as S}from"./index-9d74f72f.js";const I={loop:{en:"loop",zh:"循环播放"},single:{en:"single",zh:"单曲循环"},random:{en:"random",zh:"随机播放"}},i=l([]),d=l(!1),c=l(null),y=l("loop");function p(t){const e=i.value.length;if(e===0)throw Error("No notes to speak!");const n=y.value,o=c.value,r=t==="next"?1:-1;let a;switch(n){case"loop":{a=o===null?0:o+1*r,a>=e&&(a=0),a<0&&(a=e-1);break}case"single":a=o||0;break;case"random":a=Math.floor(Math.random()*e);break}c.value=a}const x=v();function M(t){const s=f.value.substring(0,2),e=h({locale:s,messages:s==="en"?g:m},x),{title:n,content:o,created_at:r,modified_at:a}=t;return`${e.formatMessage({defaultMessage:"The title is",id:"speak_one_part"})} ${n} ${e.formatMessage({defaultMessage:"; The content is",id:"speak_two_part"})} ${o} ${e.formatMessage({defaultMessage:"; This note created at",id:"speak_three_part"})} ${r.toLocaleString()} ${e.formatMessage({defaultMessage:"; The last modified time is",id:"speak_four_part"})} ${a.toLocaleString()}`}function u(){speechSynthesis.cancel();const t=i.value;if(t.length===0)return;const s=c.value;if(s===null)return;const e=t[s],n=new SpeechSynthesisUtterance(M(e));speechSynthesis.speak(n),n.addEventListener("start",()=>{d.value=!0}),n.addEventListener("end",()=>{_()})}function N(){p("next"),u()}function b(){speechSynthesis.cancel(),d.value=!1}function B(){p("previous"),u()}function _(){p("next"),u()}function L(t){const s=i.value;s.push(t),i.value=s}const z=k(S)(({theme:t})=>({"@media (hover: hover)":{"&:hover":{color:t.palette.primary.main}}}));export{z as B,L as a,N as b,B as c,y as d,I as e,M as f,d as i,_ as n,i as p,b as s};
